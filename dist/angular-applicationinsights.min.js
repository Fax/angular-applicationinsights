/*! angular-applicationinsights version 0.0.1 2015-03-01 */
!function(a){"use strict";function b(a){var b,c,d,e,f,h=g;this.setInterceptFunction=function(a){h=a};var i=function(a,b){return function(){var c=[].slice.call(arguments);h(c[0],b),a.apply(null,c)}};a.decorator("$log",["$delegate",function(a){return b=a.debug,c=a.info,d=a.warn,e=a.error,f=a.log,a.debug=i(b,"debug"),a.info=i(c,"info"),a.warn=i(d,"warn"),a.error=i(e,"error"),a.log=i(f,"log"),a}])}var c,d="angular-0.0.2",e="https://dc.services.visualstudio.com/v2/track",f=(a.isDefined,a.isUndefined),g=(a.isNumber,a.isObject,a.isArray,a.extend,a.toJson,a.fromJson,a.noop),h=function(a){return f(a)||null===a},i=function(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);return a[8]=a[13]=a[18]=a[23]="-",a[14]="4",a[19]=b.substr(3&a[19]|8,1),a.join("")},j=a.module("ApplicationInsightsModule",["LocalStorageModule"]);j.config(["localStorageServiceProvider","$provide",function(a,d){a.setPrefix("appInsights").setStorageCookie(0,"/"),c=new b(d)}]),j.provider("applicationInsightsService",function(){function a(a,k,l,m,n){var o="application/json",p="Microsoft.ApplicationInsights.",q={pageViews:p+"Pageview",traceMessage:p+"Message",events:p+"Event",metrics:p+"Metric"},r={pageViews:p+"PageviewData",traceMessage:p+"MessageData",events:p+"EventData",metrics:p+"MetricData"},s=function(){var b="uuid",c=a.get(b);return h(c)&&(c=i(),a.set(b,c)),c},t=function(a){var b={method:"POST",url:e,headers:{"Content-Type":o},data:a};k(b)},u=function(a){var b=y(q.pageViews,r.pageViews,{ver:1,url:n.absUrl(),name:h(a)?n.path():a});t(b)},v=function(a){var b=y(q.events,r.events,{ver:1,name:a});t(b)},w=function(a,b){var c=y(q.traceMessage,r.traceMessage,{ver:1,message:a,severity:b});t(c)},x=function(a,b){var c=y(q.metrics,r.metrics,{ver:1,metrics:[{name:a,value:b}]});t(c)},y=function(a,c,e){return{name:a,time:(new Date).toISOString(),ver:1,iKey:b,user:{id:s()},session:{id:j},operation:{id:i()},device:{id:"browser",locale:l.id,resolution:m.screen.availWidth+"x"+m.screen.availHeight},internal:{sdkVersion:d},data:{type:c,item:e}}};return c.setInterceptFunction(w),{trackPageView:u,trackTraceMessage:w,trackEvent:v,trackMetric:x,applicationName:f,autoPageViewTracking:g}}var b="",f="",g=!0,j=i();this.configure=function(a,c,d){b=a,f=c,g=h(d)?!0:d},this.$get=["localStorageService","$http","$locale","$window","$location","$log",function(b,c,d,e,f,g){return new a(b,c,d,e,f,g)}]}).run(["$rootScope","$location","applicationInsightsService",function(a,b,c){a.$on("$locationChangeSuccess",function(){c.autoPageViewTracking&&c.trackPageView(c.applicationName+b.path())})}])}(window.angular);